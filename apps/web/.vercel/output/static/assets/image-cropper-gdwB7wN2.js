import{c as I,r as p,j as a}from"./main-IubavCFv.js";import{T as Q,R as ee}from"./RelatedTools-MfNI6UVg.js";import{I as te}from"./IconCloudUpload-CGpC-DVd.js";import{e as $}from"./tools-BzbD7H_9.js";import{I as ae}from"./IconDownload-BDPJdSIl.js";import{I as re}from"./IconLock-BRpqt-_z.js";const se=[["path",{d:"M16 4l4 0l0 4",key:"svg-0"}],["path",{d:"M14 10l6 -6",key:"svg-1"}],["path",{d:"M8 20l-4 0l0 -4",key:"svg-2"}],["path",{d:"M4 20l6 -6",key:"svg-3"}],["path",{d:"M16 20l4 0l0 -4",key:"svg-4"}],["path",{d:"M14 14l6 6",key:"svg-5"}],["path",{d:"M8 4l-4 0l0 4",key:"svg-6"}],["path",{d:"M4 4l6 6",key:"svg-7"}]],oe=I("outline","arrows-maximize","ArrowsMaximize",se);const ie=[["path",{d:"M3 12l18 0",key:"svg-0"}],["path",{d:"M7 16l10 0l-10 5l0 -5",key:"svg-1"}],["path",{d:"M7 8l10 0l-10 -5l0 5",key:"svg-2"}]],ne=I("outline","flip-horizontal","FlipHorizontal",ie);const le=[["path",{d:"M12 3l0 18",key:"svg-0"}],["path",{d:"M16 7l0 10l5 0l-5 -10",key:"svg-1"}],["path",{d:"M8 7l0 10l-5 0l5 -10",key:"svg-2"}]],ce=I("outline","flip-vertical","FlipVertical",le);const de=[["path",{d:"M4.05 11a8 8 0 1 1 .5 4m-.5 5v-5h5",key:"svg-0"}]],he=I("outline","rotate-clockwise","RotateClockwise",de);function fe(){const j=p.useRef(null),M=p.useRef(null),[m,z]=p.useState(!1),[l,R]=p.useState(null),[s,y]=p.useState({x:0,y:0,width:200,height:200}),[N,v]=p.useState(!1),[S,D]=p.useState(null),[U,E]=p.useState({x:0,y:0}),[k,H]=p.useState(0),[b,L]=p.useState(!1),[w,F]=p.useState(!1),[O,C]=p.useState(!1),[d,T]=p.useState(1),X=r=>{const e=r.target.files?.[0];if(e&&e.type.startsWith("image/")){C(!0);const i=new Image;i.onload=()=>{R(i);const t=Math.min(i.width,i.height,300);y({x:(i.width-t)/2,y:(i.height-t)/2,width:t,height:t}),C(!1)},i.src=URL.createObjectURL(e)}},A=r=>{r.preventDefault(),v(!0)},P=r=>{r.preventDefault(),v(!1)},V=r=>{r.preventDefault(),v(!1);const e=r.dataTransfer.files[0];if(e&&e.type.startsWith("image/")){C(!0);const i=new Image;i.onload=()=>{R(i);const t=Math.min(i.width,i.height,300);y({x:(i.width-t)/2,y:(i.height-t)/2,width:t,height:t}),C(!1)},i.src=URL.createObjectURL(e)}},B=()=>{if(z(!m),!m&&l){const r=Math.min(l.width,l.height,300);y({x:(l.width-r)/2,y:(l.height-r)/2,width:r,height:r})}},Z=()=>{const r=j.current;if(!r||!l)return;const e=r.getContext("2d");if(!e)return;const o=Math.min(720/l.width,480/l.height,1);T(o);const c=l.width*o,u=l.height*o;if(r.width=c,r.height=u,e.clearRect(0,0,r.width,r.height),e.save(),e.translate(r.width/2,r.height/2),e.rotate(k*Math.PI/180),e.scale(b?-1:1,w?-1:1),e.translate(-r.width/2,-r.height/2),e.drawImage(l,0,0,c,u),e.restore(),!m)return;e.fillStyle="rgba(0, 0, 0, 0.5)",e.fillRect(0,0,r.width,r.height);const h=s.x*o,x=s.y*o,g=s.width*o,f=s.height*o;e.clearRect(h,x,g,f),e.save(),e.translate(h+g/2,x+f/2),e.rotate(k*Math.PI/180),e.scale(b?-1:1,w?-1:1),e.translate(-(g/2),-(f/2)),e.drawImage(l,s.x,s.y,s.width,s.height,0,0,g,f),e.restore(),e.strokeStyle="#3b82f6",e.lineWidth=2,e.strokeRect(h,x,g,f);const n=10;e.fillStyle="#3b82f6",e.fillRect(h-n/2,x-n/2,n,n),e.fillRect(h+g-n/2,x-n/2,n,n),e.fillRect(h-n/2,x+f-n/2,n,n),e.fillRect(h+g-n/2,x+f-n/2,n,n),e.fillRect(h+g/2-n/2,x-n/2,n,n),e.fillRect(h+g/2-n/2,x+f-n/2,n,n),e.fillRect(h-n/2,x+f/2-n/2,n,n),e.fillRect(h+g-n/2,x+f/2-n/2,n,n)};p.useEffect(()=>{l&&Z()},[l,s,k,b,w,m]);const W=r=>{const e=j.current;if(!e)return{x:0,y:0};const i=e.getBoundingClientRect();return{x:r.clientX-i.left,y:r.clientY-i.top}},_=r=>{if(!l||!m)return null;const e=s.x*d,i=s.y*d,t=s.width*d,o=s.height*d,u=10/2,h={"top-left":{x:e,y:i},"top-right":{x:e+t,y:i},"bottom-left":{x:e,y:i+o},"bottom-right":{x:e+t,y:i+o},top:{x:e+t/2,y:i},bottom:{x:e+t/2,y:i+o},left:{x:e,y:i+o/2},right:{x:e+t,y:i+o/2}};for(const[x,g]of Object.entries(h))if(r.x>=g.x-u&&r.x<=g.x+u&&r.y>=g.y-u&&r.y<=g.y+u)return x;return null},q=r=>{if(!m)return;const e=W(r),i=_(e);if(i)D(i),r.preventDefault();else{if(!l)return;const t=s.x*d,o=s.y*d,c=s.width*d,u=s.height*d;e.x>=t&&e.x<=t+c&&e.y>=o&&e.y<=o+u&&(v(!0),E({x:e.x-t,y:e.y-o}),r.preventDefault())}},G=r=>{if(!l||!m)return;const e=W(r),i=j.current;if(i)if(S){const t={...s},o=e.x/d,c=e.y/d;switch(S){case"top-left":t.width+=t.x-o,t.height+=t.y-c,t.x=o,t.y=c;break;case"top-right":t.width=o-t.x,t.height+=t.y-c,t.y=c;break;case"bottom-left":t.width+=t.x-o,t.height=c-t.y,t.x=o;break;case"bottom-right":t.width=o-t.x,t.height=c-t.y;break;case"top":t.height+=t.y-c,t.y=c;break;case"bottom":t.height=c-t.y;break;case"left":t.width+=t.x-o,t.x=o;break;case"right":t.width=o-t.x;break}t.x=Math.max(0,Math.min(t.x,l.width-20)),t.y=Math.max(0,Math.min(t.y,l.height-20)),t.width=Math.max(20,Math.min(t.width,l.width-t.x)),t.height=Math.max(20,Math.min(t.height,l.height-t.y)),y(t)}else if(N){const t=(e.x-U.x)/d,o=(e.y-U.y)/d;y({...s,x:Math.max(0,Math.min(t,l.width-s.width)),y:Math.max(0,Math.min(o,l.height-s.height))})}else{const t=_(e);if(t){const o={"top-left":"nw-resize","top-right":"ne-resize","bottom-left":"sw-resize","bottom-right":"se-resize",top:"n-resize",bottom:"s-resize",left:"w-resize",right:"e-resize"};i.style.cursor=o[t]}else{const o=s.x*d,c=s.y*d,u=s.width*d,h=s.height*d;e.x>=o&&e.x<=o+u&&e.y>=c&&e.y<=c+h?i.style.cursor="move":i.style.cursor="default"}}},Y=()=>{v(!1),D(null)},J=()=>{if(!l||!m)return;const r=document.createElement("canvas"),e=r.getContext("2d");e&&(r.width=s.width,r.height=s.height,e.save(),e.translate(r.width/2,r.height/2),e.rotate(k*Math.PI/180),e.scale(b?-1:1,w?-1:1),e.translate(-r.width/2,-r.height/2),e.drawImage(l,s.x,s.y,s.width,s.height,0,0,s.width,s.height),e.restore(),r.toBlob(i=>{if(i){const t=URL.createObjectURL(i),o=document.createElement("a");o.href=t,o.download=`cropped_image_${Date.now()}.png`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(t)}}))},K=()=>{R(null),y({x:0,y:0,width:200,height:200}),H(0),L(!1),F(!1),z(!1),M.current&&(M.current.value="")};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-800 to-slate-900 pt-24 pb-8 px-4 flex flex-col items-center justify-between",children:[a.jsxs("div",{className:"w-full max-w-6xl flex-1 flex flex-col items-center justify-center mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-100 mb-2",children:["Image ",a.jsx("span",{className:"text-brand-primary",children:"Cropper"})]}),a.jsx("p",{className:"text-md text-gray-200",children:"Crop, resize, rotate & flip with precision. 100% privateâ€”nothing leaves your browser."})]}),a.jsx("div",{className:"bg-gray-800 rounded-xl shadow-lg p-8 mb-6 w-full max-w-5xl",children:l?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-100 mb-4",children:"Crop Controls"}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-4",children:[a.jsxs("button",{onClick:()=>H(r=>(r+90)%360),className:"flex items-center space-x-2 px-3 py-2 bg-gray-700 text-gray-100 rounded-lg hover:bg-gray-600 transition-colors",children:[a.jsx(he,{className:"w-4 h-4"}),a.jsx("span",{children:"Rotate"})]}),a.jsxs("button",{onClick:()=>L(!b),className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-colors ${b?"bg-brand-primary text-white":"bg-gray-700 text-gray-100 hover:bg-gray-600"}`,children:[a.jsx(ne,{className:"w-4 h-4"}),a.jsx("span",{children:"Flip H"})]}),a.jsxs("button",{onClick:()=>F(!w),className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-colors ${w?"bg-brand-primary text-white":"bg-gray-700 text-gray-100 hover:bg-gray-600"}`,children:[a.jsx(ce,{className:"w-4 h-4"}),a.jsx("span",{children:"Flip V"})]}),a.jsxs("button",{onClick:B,className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-colors ${m?"bg-brand-primary text-white":"bg-gray-700 text-gray-100 hover:bg-gray-600"}`,children:[a.jsx($,{className:"w-4 h-4"}),a.jsx("span",{children:m?"Hide Crop":"Show Crop"})]})]}),m&&a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-1",children:"X Position"}),a.jsx("input",{type:"number",value:Math.round(s.x),onChange:r=>y({...s,x:Math.max(0,parseInt(r.target.value)||0)}),className:"w-full px-2 py-1 bg-gray-700 border border-gray-600 rounded text-gray-100 text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-1",children:"Y Position"}),a.jsx("input",{type:"number",value:Math.round(s.y),onChange:r=>y({...s,y:Math.max(0,parseInt(r.target.value)||0)}),className:"w-full px-2 py-1 bg-gray-700 border border-gray-600 rounded text-gray-100 text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-1",children:"Width"}),a.jsx("input",{type:"number",value:Math.round(s.width),onChange:r=>y({...s,width:Math.max(20,parseInt(r.target.value)||20)}),className:"w-full px-2 py-1 bg-gray-700 border border-gray-600 rounded text-gray-100 text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-1",children:"Height"}),a.jsx("input",{type:"number",value:Math.round(s.height),onChange:r=>y({...s,height:Math.max(20,parseInt(r.target.value)||20)}),className:"w-full px-2 py-1 bg-gray-700 border border-gray-600 rounded text-gray-100 text-sm"})]})]})]}),a.jsx("div",{className:"mb-6 flex justify-center",children:a.jsx("canvas",{ref:j,onMouseDown:q,onMouseMove:G,onMouseUp:Y,onMouseLeave:Y,className:"border-2 border-gray-600 rounded-lg cursor-default"})}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("button",{onClick:K,className:"px-4 py-2 text-red-400 hover:bg-red-900/20 rounded-lg transition-colors duration-200",children:"Clear Image"}),a.jsxs("button",{onClick:J,disabled:!m,className:"px-6 py-2 bg-green-700 text-green-100 rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 font-medium shadow-md hover:shadow-lg flex items-center space-x-2",children:[a.jsx(ae,{className:"w-4 h-4"}),a.jsx("span",{children:"Download Cropped Image"})]})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{onDragOver:A,onDragLeave:P,onDrop:V,className:`border-3 border-dashed rounded-lg p-12 text-center transition-all duration-300 ${N?"border-brand-primary bg-brand-primary/20":"border-gray-600 hover:border-brand-primary/40 hover:bg-gray-700"}`,children:a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx(te,{className:`w-16 h-16 ${N?"text-brand-primary":"text-gray-400"} transition-colors`}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xl font-medium text-gray-100 mb-2",children:N?"Drop your image here":"Drag & drop your image here"}),a.jsx("p",{className:"text-gray-400 mb-4",children:"or"}),a.jsx("button",{onClick:()=>M.current?.click(),disabled:O,className:"text-sm px-3 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-hover disabled:opacity-50 transition-colors duration-200 font-medium shadow-md hover:shadow-lg",children:O?"Loading...":"Choose Image"})]})]})}),a.jsx("p",{className:"text-center text-gray-400 text-xs mt-3 flex items-center justify-center gap-1",children:"ðŸ”’ Your files stay on your device. Nothing is uploaded to any server."}),a.jsx("input",{type:"file",accept:"image/*",ref:M,className:"hidden",onChange:X})]})}),a.jsx(Q,{title:"Image Cropper",description:"Our Image Cropper provides professional-grade image editing capabilities directly in your browser. Easily crop to specific aspect ratios, rotate images for better alignment, or flip them horizontally and vertically to get the perfect composition.",features:[{title:"Precision Editing",description:"Manually adjust crop coordinates and dimensions or use the intuitive on-canvas handles for visual editing.",icon:$},{title:"Transformation Tools",description:"Rotate images in 90-degree increments and flip them along both axes with a single click.",icon:oe},{title:"Zero Uploads",description:"Edit your photos with full confidence in your privacy. No data ever leaves your device.",icon:re}],steps:[{title:"Upload Image",description:"Select an image from your device or use drag and drop to start editing."},{title:"Toggle Crop",description:'Click "Show Crop" to activate the cropping boundary on your image.'},{title:"Adjust Boundary",description:"Drag the crop box or use the corner handles to select the area you want to keep."},{title:"Save & Download",description:"Once satisfied, click the download button to save your perfectly cropped image."}]})]}),a.jsx(ee,{currentToolSlug:"image-cropper",category:"Images"}),a.jsx("div",{className:"mt-8",children:a.jsxs("p",{className:"text-gray-400 text-xs text-center",children:["Crafted with care by"," ",a.jsx("a",{href:"https://sidme.vercel.app/",target:"_blank",rel:"noopener noreferrer",className:"text-brand-primary hover:text-brand-hover transition-colors",children:"sidme"})]})})]})}export{fe as component};
