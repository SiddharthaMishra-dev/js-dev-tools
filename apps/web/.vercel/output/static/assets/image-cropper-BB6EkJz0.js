import{c as I,r as x,j as a,e as E}from"./main-FMLnWsYP.js";import{T as ee}from"./ToolInfo-DybraWZD.js";import{I as te}from"./IconCloudUpload-zl2f-EN8.js";import{I as se}from"./IconDownload-Bd1erR3a.js";import{I as ae}from"./IconLock-BOTVy6M3.js";const re=[["path",{d:"M16 4l4 0l0 4",key:"svg-0"}],["path",{d:"M14 10l6 -6",key:"svg-1"}],["path",{d:"M8 20l-4 0l0 -4",key:"svg-2"}],["path",{d:"M4 20l6 -6",key:"svg-3"}],["path",{d:"M16 20l4 0l0 -4",key:"svg-4"}],["path",{d:"M14 14l6 6",key:"svg-5"}],["path",{d:"M8 4l-4 0l0 4",key:"svg-6"}],["path",{d:"M4 4l6 6",key:"svg-7"}]],ie=I("outline","arrows-maximize","ArrowsMaximize",re);const oe=[["path",{d:"M3 12l18 0",key:"svg-0"}],["path",{d:"M7 16l10 0l-10 5l0 -5",key:"svg-1"}],["path",{d:"M7 8l10 0l-10 -5l0 5",key:"svg-2"}]],ne=I("outline","flip-horizontal","FlipHorizontal",oe);const le=[["path",{d:"M12 3l0 18",key:"svg-0"}],["path",{d:"M16 7l0 10l5 0l-5 -10",key:"svg-1"}],["path",{d:"M8 7l0 10l-5 0l5 -10",key:"svg-2"}]],ce=I("outline","flip-vertical","FlipVertical",le);const he=[["path",{d:"M4.05 11a8 8 0 1 1 .5 4m-.5 5v-5h5",key:"svg-0"}]],de=I("outline","rotate-clockwise","RotateClockwise",he);function fe(){const j=x.useRef(null),M=x.useRef(null),[p,z]=x.useState(!1),[l,R]=x.useState(null),[i,y]=x.useState({x:0,y:0,width:200,height:200}),[N,v]=x.useState(!1),[S,D]=x.useState(null),[U,X]=x.useState({x:0,y:0}),[ge,H]=x.useState({width:0,height:0}),[k,L]=x.useState(0),[b,F]=x.useState(!1),[w,O]=x.useState(!1),[W,C]=x.useState(!1),[h,A]=x.useState(1),P=s=>{const e=s.target.files?.[0];if(e&&e.type.startsWith("image/")){C(!0);const r=new Image;r.onload=()=>{R(r),H({width:r.width,height:r.height});const t=Math.min(r.width,r.height,300);y({x:(r.width-t)/2,y:(r.height-t)/2,width:t,height:t}),C(!1)},r.src=URL.createObjectURL(e)}},T=s=>{s.preventDefault(),v(!0)},V=s=>{s.preventDefault(),v(!1)},B=s=>{s.preventDefault(),v(!1);const e=s.dataTransfer.files[0];if(e&&e.type.startsWith("image/")){C(!0);const r=new Image;r.onload=()=>{R(r),H({width:r.width,height:r.height});const t=Math.min(r.width,r.height,300);y({x:(r.width-t)/2,y:(r.height-t)/2,width:t,height:t}),C(!1)},r.src=URL.createObjectURL(e)}},Z=()=>{if(z(!p),!p&&l){const s=Math.min(l.width,l.height,300);y({x:(l.width-s)/2,y:(l.height-s)/2,width:s,height:s})}},q=()=>{const s=j.current;if(!s||!l)return;const e=s.getContext("2d");if(!e)return;const o=Math.min(720/l.width,480/l.height,1);A(o);const c=l.width*o,u=l.height*o;if(s.width=c,s.height=u,e.clearRect(0,0,s.width,s.height),e.save(),e.translate(s.width/2,s.height/2),e.rotate(k*Math.PI/180),e.scale(b?-1:1,w?-1:1),e.translate(-s.width/2,-s.height/2),e.drawImage(l,0,0,c,u),e.restore(),!p)return;e.fillStyle="rgba(0, 0, 0, 0.5)",e.fillRect(0,0,s.width,s.height);const d=i.x*o,m=i.y*o,g=i.width*o,f=i.height*o;e.clearRect(d,m,g,f),e.save(),e.translate(d+g/2,m+f/2),e.rotate(k*Math.PI/180),e.scale(b?-1:1,w?-1:1),e.translate(-(g/2),-(f/2)),e.drawImage(l,i.x,i.y,i.width,i.height,0,0,g,f),e.restore(),e.strokeStyle="#f59e0b",e.lineWidth=2,e.strokeRect(d,m,g,f);const n=10;e.fillStyle="#f59e0b",e.fillRect(d-n/2,m-n/2,n,n),e.fillRect(d+g-n/2,m-n/2,n,n),e.fillRect(d-n/2,m+f-n/2,n,n),e.fillRect(d+g-n/2,m+f-n/2,n,n),e.fillRect(d+g/2-n/2,m-n/2,n,n),e.fillRect(d+g/2-n/2,m+f-n/2,n,n),e.fillRect(d-n/2,m+f/2-n/2,n,n),e.fillRect(d+g-n/2,m+f/2-n/2,n,n)};x.useEffect(()=>{l&&q()},[l,i,k,b,w,p]);const _=s=>{const e=j.current;if(!e)return{x:0,y:0};const r=e.getBoundingClientRect();return{x:s.clientX-r.left,y:s.clientY-r.top}},Y=s=>{if(!l||!p)return null;const e=i.x*h,r=i.y*h,t=i.width*h,o=i.height*h,u=10/2,d={"top-left":{x:e,y:r},"top-right":{x:e+t,y:r},"bottom-left":{x:e,y:r+o},"bottom-right":{x:e+t,y:r+o},top:{x:e+t/2,y:r},bottom:{x:e+t/2,y:r+o},left:{x:e,y:r+o/2},right:{x:e+t,y:r+o/2}};for(const[m,g]of Object.entries(d))if(s.x>=g.x-u&&s.x<=g.x+u&&s.y>=g.y-u&&s.y<=g.y+u)return m;return null},G=s=>{if(!p)return;const e=_(s),r=Y(e);if(r)D(r),s.preventDefault();else{if(!l)return;const t=i.x*h,o=i.y*h,c=i.width*h,u=i.height*h;e.x>=t&&e.x<=t+c&&e.y>=o&&e.y<=o+u&&(v(!0),X({x:e.x-t,y:e.y-o}),s.preventDefault())}},J=s=>{if(!l||!p)return;const e=_(s),r=j.current;if(r)if(S){const t={...i},o=e.x/h,c=e.y/h;switch(S){case"top-left":t.width+=t.x-o,t.height+=t.y-c,t.x=o,t.y=c;break;case"top-right":t.width=o-t.x,t.height+=t.y-c,t.y=c;break;case"bottom-left":t.width+=t.x-o,t.height=c-t.y,t.x=o;break;case"bottom-right":t.width=o-t.x,t.height=c-t.y;break;case"top":t.height+=t.y-c,t.y=c;break;case"bottom":t.height=c-t.y;break;case"left":t.width+=t.x-o,t.x=o;break;case"right":t.width=o-t.x;break}t.x=Math.max(0,Math.min(t.x,l.width-20)),t.y=Math.max(0,Math.min(t.y,l.height-20)),t.width=Math.max(20,Math.min(t.width,l.width-t.x)),t.height=Math.max(20,Math.min(t.height,l.height-t.y)),y(t)}else if(N){const t=(e.x-U.x)/h,o=(e.y-U.y)/h;y({...i,x:Math.max(0,Math.min(t,l.width-i.width)),y:Math.max(0,Math.min(o,l.height-i.height))})}else{const t=Y(e);if(t){const o={"top-left":"nw-resize","top-right":"ne-resize","bottom-left":"sw-resize","bottom-right":"se-resize",top:"n-resize",bottom:"s-resize",left:"w-resize",right:"e-resize"};r.style.cursor=o[t]}else{const o=i.x*h,c=i.y*h,u=i.width*h,d=i.height*h;e.x>=o&&e.x<=o+u&&e.y>=c&&e.y<=c+d?r.style.cursor="move":r.style.cursor="default"}}},$=()=>{v(!1),D(null)},K=()=>{if(!l||!p)return;const s=document.createElement("canvas"),e=s.getContext("2d");e&&(s.width=i.width,s.height=i.height,e.save(),e.translate(s.width/2,s.height/2),e.rotate(k*Math.PI/180),e.scale(b?-1:1,w?-1:1),e.translate(-s.width/2,-s.height/2),e.drawImage(l,i.x,i.y,i.width,i.height,0,0,i.width,i.height),e.restore(),s.toBlob(r=>{if(r){const t=URL.createObjectURL(r),o=document.createElement("a");o.href=t,o.download=`cropped_image_${Date.now()}.png`,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(t)}}))},Q=()=>{R(null),y({x:0,y:0,width:200,height:200}),L(0),F(!1),O(!1),z(!1),M.current&&(M.current.value="")};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-800 to-slate-900 pt-24 pb-8 px-4 flex flex-col items-center justify-between",children:[a.jsxs("div",{className:"w-full max-w-6xl flex-1 flex flex-col items-center justify-center mx-auto",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-100 mb-2",children:["Image ",a.jsx("span",{className:"text-amber-200",children:"Cropper"})]}),a.jsx("p",{className:"text-md text-gray-200",children:"Crop, resize, rotate & flip with precision. 100% privateâ€”nothing leaves your browser."})]}),a.jsx("div",{className:"bg-gray-800 rounded-xl shadow-lg p-8 mb-6 w-full max-w-5xl",children:l?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-100 mb-4",children:"Crop Controls"}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-4",children:[a.jsxs("button",{onClick:()=>L(s=>(s+90)%360),className:"flex items-center space-x-2 px-3 py-2 bg-gray-700 text-gray-100 rounded-lg hover:bg-gray-600 transition-colors",children:[a.jsx(de,{className:"w-4 h-4"}),a.jsx("span",{children:"Rotate"})]}),a.jsxs("button",{onClick:()=>F(!b),className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-colors ${b?"bg-amber-700 text-amber-100":"bg-gray-700 text-gray-100 hover:bg-gray-600"}`,children:[a.jsx(ne,{className:"w-4 h-4"}),a.jsx("span",{children:"Flip H"})]}),a.jsxs("button",{onClick:()=>O(!w),className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-colors ${w?"bg-amber-700 text-amber-100":"bg-gray-700 text-gray-100 hover:bg-gray-600"}`,children:[a.jsx(ce,{className:"w-4 h-4"}),a.jsx("span",{children:"Flip V"})]}),a.jsxs("button",{onClick:Z,className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-colors ${p?"bg-amber-700 text-amber-100":"bg-gray-700 text-gray-100 hover:bg-gray-600"}`,children:[a.jsx(E,{className:"w-4 h-4"}),a.jsx("span",{children:p?"Hide Crop":"Show Crop"})]})]}),p&&a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-1",children:"X Position"}),a.jsx("input",{type:"number",value:Math.round(i.x),onChange:s=>y({...i,x:Math.max(0,parseInt(s.target.value)||0)}),className:"w-full px-2 py-1 bg-gray-700 border border-gray-600 rounded text-gray-100 text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-1",children:"Y Position"}),a.jsx("input",{type:"number",value:Math.round(i.y),onChange:s=>y({...i,y:Math.max(0,parseInt(s.target.value)||0)}),className:"w-full px-2 py-1 bg-gray-700 border border-gray-600 rounded text-gray-100 text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-1",children:"Width"}),a.jsx("input",{type:"number",value:Math.round(i.width),onChange:s=>y({...i,width:Math.max(20,parseInt(s.target.value)||20)}),className:"w-full px-2 py-1 bg-gray-700 border border-gray-600 rounded text-gray-100 text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 mb-1",children:"Height"}),a.jsx("input",{type:"number",value:Math.round(i.height),onChange:s=>y({...i,height:Math.max(20,parseInt(s.target.value)||20)}),className:"w-full px-2 py-1 bg-gray-700 border border-gray-600 rounded text-gray-100 text-sm"})]})]})]}),a.jsx("div",{className:"mb-6 flex justify-center",children:a.jsx("canvas",{ref:j,onMouseDown:G,onMouseMove:J,onMouseUp:$,onMouseLeave:$,className:"border-2 border-gray-600 rounded-lg cursor-default"})}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("button",{onClick:Q,className:"px-4 py-2 text-red-400 hover:bg-red-900/20 rounded-lg transition-colors duration-200",children:"Clear Image"}),a.jsxs("button",{onClick:K,disabled:!p,className:"px-6 py-2 bg-green-700 text-green-100 rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 font-medium shadow-md hover:shadow-lg flex items-center space-x-2",children:[a.jsx(se,{className:"w-4 h-4"}),a.jsx("span",{children:"Download Cropped Image"})]})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{onDragOver:T,onDragLeave:V,onDrop:B,className:`border-3 border-dashed rounded-lg p-12 text-center transition-all duration-300 ${N?"border-amber-500 bg-amber-900/20":"border-gray-600 hover:border-amber-400 hover:bg-gray-700"}`,children:a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx(te,{className:`w-16 h-16 ${N?"text-amber-500":"text-gray-400"} transition-colors`}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xl font-medium text-gray-100 mb-2",children:N?"Drop your image here":"Drag & drop your image here"}),a.jsx("p",{className:"text-gray-400 mb-4",children:"or"}),a.jsx("button",{onClick:()=>M.current?.click(),disabled:W,className:"text-sm px-3 py-2 bg-amber-700 text-amber-100 rounded-lg hover:bg-amber-600 disabled:opacity-50 transition-colors duration-200 font-medium shadow-md hover:shadow-lg",children:W?"Loading...":"Choose Image"})]})]})}),a.jsx("p",{className:"text-center text-gray-400 text-xs mt-3 flex items-center justify-center gap-1",children:"ðŸ”’ Your files stay on your device. Nothing is uploaded to any server."}),a.jsx("input",{type:"file",accept:"image/*",ref:M,className:"hidden",onChange:P})]})}),a.jsx(ee,{title:"Image Cropper",description:"Our Image Cropper provides professional-grade image editing capabilities directly in your browser. Easily crop to specific aspect ratios, rotate images for better alignment, or flip them horizontally and vertically to get the perfect composition.",features:[{title:"Precision Editing",description:"Manually adjust crop coordinates and dimensions or use the intuitive on-canvas handles for visual editing.",icon:E},{title:"Transformation Tools",description:"Rotate images in 90-degree increments and flip them along both axes with a single click.",icon:ie},{title:"Zero Uploads",description:"Edit your photos with full confidence in your privacy. No data ever leaves your device.",icon:ae}],steps:[{title:"Upload Image",description:"Select an image from your device or use drag and drop to start editing."},{title:"Toggle Crop",description:'Click "Show Crop" to activate the cropping boundary on your image.'},{title:"Adjust Boundary",description:"Drag the crop box or use the corner handles to select the area you want to keep."},{title:"Save & Download",description:"Once satisfied, click the download button to save your perfectly cropped image."}]})]}),a.jsx("div",{className:"mt-8",children:a.jsxs("p",{className:"text-gray-400 text-xs text-center",children:["Crafted with care by"," ",a.jsx("a",{href:"https://sidme.vercel.app/",target:"_blank",rel:"noopener noreferrer",className:"text-amber-200 hover:text-amber-300 transition-colors",children:"sidme"})]})})]})}export{fe as component};
